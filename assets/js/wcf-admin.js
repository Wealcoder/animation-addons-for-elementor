!function(t){"use strict";({init:function(){this.adminTabs(),this.saveData(),this.installPlugin(),this.setupWizard(),t("#wcf-accordion").length&&t("#wcf-accordion").accordion()},adminTabs:function(e){var n=t(".wcf-admin-tab button");function c(e){var c=t(".wcf-tab-pane"),i=t(this).data("target");c.css("display","none"),n.removeClass("active"),t("#".concat(i)).css("display","block"),t(this).addClass("active")}t(n[0]).addClass("active"),n.each((function(){t(this).hasClass("active")?(t(this).click(c),t(this).trigger("click")):n.on("click",c)}))},saveData:function(){t(document).on("click",".wcf-global-switch",(function(e){var n=t(this),c=t(this).prop("checked");n.closest("form.wcf-settings").find(".wcf-settings-item:enabled").each((function(){t(this).prop("checked",c).change()}))})),t(document).on("click",".wcf-gsap-switch",(function(e){var n=t(this),c=n.prop("checked");n.closest(".settings-group").find(".wcf-settings-item:enabled").each((function(){t(this).prop("checked",c).change()}))})),t(document).on("click",".wcf-settings-item",(function(e){var n=t(this),c=n.closest(".settings-group").find(".wcf-gsap-switch");c.length&&(c.prop("checked")||n.prop("checked",!1).change())})),t(document).on("click",".smooth-settings",(function(e){var n=t(".wcf-smooth-scroller-switch").prop("checked"),c=1.35,i="";null!==WCF_ADDONS_ADMIN.smoothScroller&&(c=WCF_ADDONS_ADMIN.smoothScroller.smooth,i="on"===WCF_ADDONS_ADMIN.smoothScroller.mobile?"checked":"");var a='<div class="smooth-scroller-settings">\n                    <div class="input-items"><label>Smooth</label><input type="number" value="'.concat(c,'"></div>\n                    <div class="input-items"><label>Enable On Mobile</label><input type="checkbox" ').concat(i,"></div></div>");n&&Swal.fire({title:"Smooth Scroller",html:a}).then((function(){var e;t.ajax({url:WCF_ADDONS_ADMIN.ajaxurl,data:{action:"save_smooth_scroller_settings",nonce:WCF_ADDONS_ADMIN.nonce,smooth:t(".input-items input[type='number']").val(),mobile:null!==(e=t(".input-items input[type='checkbox']:checked").val())&&void 0!==e?e:null},type:"POST",beforeSend:function(){},success:function(t){var e=JSON.parse(t);WCF_ADDONS_ADMIN.smoothScroller.smooth=e.smooth,WCF_ADDONS_ADMIN.smoothScroller.mobile=e.mobile},complete:function(t){},error:function(t){console.log(t)}})}))})),t(".wcf-settings-save").on("click",(function(e){var n=t(this),c=n.closest("form.wcf-settings");n.closest(".wizard-content").length||t.ajax({url:WCF_ADDONS_ADMIN.ajaxurl,data:{action:"save_settings_with_ajax",nonce:WCF_ADDONS_ADMIN.nonce,settings:c.attr("name"),fields:c.serialize()},type:"POST",beforeSend:function(){n.html("Saving Data...")},success:function(t){setTimeout((function(){n.html("Save Settings"),Swal.fire({timer:2e3,title:"Good job!",text:"Settings Saved!",icon:"success",showConfirmButton:!1})}),500)},complete:function(t){},error:function(t){Swal.fire({type:"error",title:"Oops...",text:"Something went wrong!"}),console.log(t)}})}))},installPlugin:function(){t(".wcf-plugin-installer").on("click",(function(e){e.preventDefault();var n=t(this),c=n.data("base"),i=n.data("source");if(!n.hasClass("activated")&&(n.hasClass("install")||n.hasClass("active"))){var a="install",o="Installing...",s="active",l="Active";n.hasClass("active")&&(c=n.data("file"),a="active",o="Activating...",s="activated",l="Activated"),t.ajax({url:WCF_ADDONS_ADMIN.ajaxurl,data:{action:"wcf_".concat(a,"_plugin"),nonce:WCF_ADDONS_ADMIN.nonce,action_base:c,plugin_source:i},type:"POST",beforeSend:function(){n.html(o)},success:function(t){setTimeout((function(){n.removeClass(a),n.addClass(s),n.html(l)}),200)},complete:function(t){},error:function(t){n.html("Install"),console.log(t)}})}}))},setupWizard:function(){var e=document.querySelector("[data-wizard-bar]"),n=document.querySelector("[data-btn-previous]"),c=0;function i(e){var c=document.querySelectorAll("[data-form-tab]"),i=document.querySelectorAll("[data-wizard-item]");0!==i.length&&(c[e].classList.add("active"),i[e].classList.add("active"),i[e].classList.add("current"),c.length-1===e&&t(".wizard-buttons").hide(),n.style.display=0==e?"none":"flex")}function a(t){var e=document.querySelectorAll("[data-form-tab]"),n=document.querySelectorAll("[data-wizard-item]");e[c].classList.remove("active"),n[c].classList.remove("current"),i(c+=t)}function o(){var t=document.querySelectorAll(".wizard-item.active"),n=document.querySelectorAll("[data-wizard-item]"),c=(t.length-1)/(n.length-1)*100;e.style.setProperty("--width",c+"%")}i(c),document.querySelector("*").addEventListener("click",(function(t){t.target.dataset.btnPrevious&&(document.querySelectorAll("[data-wizard-item]")[c].classList.remove("active"),a(-1),o());t.target.dataset.btnNext&&(a(1),o())})),t(".wizard-congrats .wcf-settings-save").on("click",(function(e){var n=t(this),c=t(".wizard-content").find("form"),i={};c.each((function(){var e=t(this);i[e.attr("name")]=e.serialize()})),setTimeout((function(){t.ajax({url:WCF_ADDONS_ADMIN.ajaxurl,data:{action:"save_setup_wizard_settings",nonce:WCF_ADDONS_ADMIN.nonce,settings:i},type:"POST",beforeSend:function(){n.html("Saving Data...")},success:function(t){setTimeout((function(){n.html("Save Settings")}),500)},complete:function(t){window.location=t.responseJSON.data.redirect_url},error:function(t){console.log(t)}})}),500)}))}}).init()}(jQuery);